{"version":3,"file":"static/webpack/static/development/pages/posts.js.bf965a3496e533797868.hot-update.js","sources":["webpack:///./pages/posts.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Router from 'next/router'\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\n// import fetch from 'isomorphic-unfetch'\nimport axios from 'axios';\nimport Head from 'next/head';\nimport MyError from './_error';\nimport {SHOW_SEARCH_ENDPOINT} from '../constants/EndpointTypes';\nconst PostLink = (props) => (\n    <li>\n        \n        <Link as={`/p/${props.show.id}`} href={`/post?id=${props.show.id}`}>\n            <a>{props.show.name}</a>\n          </Link>\n    </li>\n)\nclass Posts extends Component {\n    \n    onSearchHandler(event){\n        event.preventDefault();\n        const text = this.textSearch.value;\n    }\n    render() {\n        if(this.props.statusCode)\n            return <MyError statusCode={this.props.statusCode} />\n        return (<Layout>\n            <form action=\"#\" method=\"GET\" >\n                <input type=\"text\" placeholder=\"search\" name=\"q\"/>\n                <button type=\"submit\">Search</button>\n            </form>\n            <div>\n                <h1>Batman TV Shows</h1>\n                <ul>\n                {this.props.shows.map(({show}) => (\n                    <PostLink key={show.id} show={show} />\n                ))}\n                </ul>\n            </div>\n        </Layout>);\n        \n    }\n}\nPosts.getInitialProps = async function ({req}) {\n    const userAgent = req ? req.headers['user-agent'] : navigator.userAgent\n    console.log(\"userAgent: \" , userAgent );\n      \n    try{\n        let params = { params : {q:'girls'} };\n        if( req.query.q != null )\n            params = { params : {q  : req.query.q} };\n        \n\n\n        const res = await axios(SHOW_SEARCH_ENDPOINT , params);\n        const statusCode =  res.status > 200 ? res.status : false;\n        return {\n            statusCode:statusCode,\n            shows: res.data\n        }\n       \n    }catch(e) {\n        console.log('error: ', e);  \n        return {\n            statusCode : 404,\n            data : []\n        }\n    }\n        \n}\nexport default Posts;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAHA;AACA;AAOA;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;;;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAKA;AAAA;AACA;AAAA;AAAA;AADA;AAOA;;;;AAxBA;AACA;AAyBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAPA;AAAA;AACA;AADA;AAWA;AACA;AAZA;AAcA;AACA;AAFA;AACA;AAdA;AAAA;AAAA;AAmBA;AAnBA;AAqBA;AACA;AAFA;AACA;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AA0BA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}